{"version":3,"file":"static/js/580.68d6b534.chunk.js","mappings":"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","sources":["components/AddProducts.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/AddProducts.css';\nimport emailjs from 'emailjs-com';\n// import { updateProduct, createProduct, getProducts, getProduct, deleteProduct } from '../apis/ProductApis';\n// import ProductItem from './ProductItem';\n// import { normalizeStrapiProduct } from '../apis/normalizeProduct';\n\n// ÿØÿßŸÑÿ© ŸÑÿ•ÿ±ÿ≥ÿßŸÑ ÿ®ÿ±ŸäÿØ ÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ÿπŸÜÿØ ÿ±ŸÅÿ∂ ÿßŸÑÿ∑ŸÑÿ® (ŸÖÿ´ÿßŸÑ ÿ®ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ EmailJS)\nfunction sendRejectionEmail(userEmail, productTitle) {\n  // ÿ•ÿπÿØÿßÿØ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ®ÿ±ŸäÿØ\n  const templateParams = {\n    to_email: userEmail,\n    message: `ÿ™ŸÖ ÿ±ŸÅÿ∂ ÿ∑ŸÑÿ®ŸÉ ŸÑÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÖŸÜÿ™ÿ¨: ${productTitle}. ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸÑÿØŸäŸÉ ÿ£Ÿä ÿßÿ≥ÿ™ŸÅÿ≥ÿßÿ± ÿ™ŸàÿßÿµŸÑ ŸÖÿπ ÿßŸÑÿ•ÿØÿßÿ±ÿ©.`\n  };\n  // ÿßÿ≥ÿ™ÿ®ÿØŸÑ Ÿáÿ∞Ÿá ÿßŸÑŸÇŸäŸÖ ÿ®ŸÇŸäŸÖŸÉ ŸÖŸÜ EmailJS\n  const serviceID = 'YOUR_SERVICE_ID';\n  const templateID = 'YOUR_TEMPLATE_ID';\n  const userID = 'YOUR_USER_ID';\n\n  emailjs.send(serviceID, templateID, templateParams, userID)\n    .then((response) => {\n      console.log('Email sent successfully!', response.status, response.text);\n    }, (err) => {\n      console.error('Failed to send email:', err);\n    });\n}\n\n// import { updateProduct, createProduct, getProducts, getProduct, deleteProduct } from '../apis/ProductApis';\n// import ProductItem from './ProductItem'\n// import { normalizeStrapiProduct } from '../apis/normalizeProduct'\n\nfunction EditProductModal({ product, onClose, onSave }) {\n  const [formData, setFormData] = useState({\n    title: product.attributes.title,\n    description: product.attributes.description,\n    price: product.attributes.price,\n    stock: product.attributes.stock,\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    // ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ŸÉŸàÿØ ÿßŸÑÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖÿ±ÿ™ÿ®ÿ∑ ÿ®ŸÄ updateProduct\n    onSave(formData);\n    onClose();\n  };\n\n  // ...existing code...\n  // ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿ£Ÿà ÿ™ÿπŸÑŸäŸÇ ÿ£Ÿä ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ŸÑŸÄ ProductItem\n  // ...existing code...\n}\n\nexport default function AddProducts({ darkMode = false }) {\n  const [productList,setProductList]= useState([])\n  useEffect(()=>{\n    // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ŸÖŸÜ localStorage ŸÅŸÇÿ∑\n    try {\n      const storedProducts = localStorage.getItem('ecommerce_products')\n      if (storedProducts) {\n        setProductList(JSON.parse(storedProducts))\n      }\n    } catch (e) {\n      setProductList([])\n    }\n  },[])\n\t\n  const navigate = useNavigate()\n  const [user, setUser] = useState(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [message, setMessage] = useState('')\n  const [showForm, setShowForm] = useState(false)\n  const [showStats, setShowStats] = useState(false)\n  const [showCategoriesSection, setShowCategoriesSection] = useState(false)\n  const [showCategoryForm, setShowCategoryForm] = useState(false)\n  const [showCategoryDropdown, setShowCategoryDropdown] = useState(false)\n  const [products, setProducts] = useState([])\n  const [categories, setCategories] = useState(['electronics', 'clothing', 'books', 'home', 'sports', 'other'])\n  const [newCategory, setNewCategory] = useState('')\n  const [newProduct, setNewProduct] = useState({\n    title: '',\n    price: '',\n    quantity: 1,\n    image: '',\n    description: '',\n    category: 'electronics'\n  })\n  const [editingProduct, setEditingProduct] = useState(null)\n\n  // Protected admin emails\n  const protectedAdmins = [\n    'yahiapro400@gmail.com',\n    'yahiacool2009@gmail.com'\n  ]\n\n  const isProtectedAdmin = () => {\n  const currentUserEmail = localStorage.getItem('currentUserEmail') || \n              localStorage.getItem('loggedInUser') || \n              localStorage.getItem('userEmail')\n  return currentUserEmail && protectedAdmins.includes(currentUserEmail)\n  }\n\n  const canModifyProtectedAdmin = () => {\n  const currentUserEmail = localStorage.getItem('currentUserEmail') || \n              localStorage.getItem('loggedInUser') || \n              localStorage.getItem('userEmail')\n  return currentUserEmail && protectedAdmins.includes(currentUserEmail)\n  }\n\n  useEffect(() => {\n    // Preload images for faster loading\n    const preloadImages = () => {\n      products.forEach(product => {\n        if (product.image) {\n          const img = new Image();\n          img.src = product.image;\n        }\n      });\n    };\n\n    // Check if user is logged in - try multiple possible keys\n    const currentUserEmail = localStorage.getItem('currentUserEmail') || \n                            localStorage.getItem('loggedInUser') || \n                            localStorage.getItem('userEmail')\n    \n    // If no user email found, check if there are any users in localStorage\n    if (!currentUserEmail) {\n      const users = JSON.parse(localStorage.getItem('users') || '[]')\n      if (users.length === 0) {\n        // If no users exist, allow access (first time setup)\n        setUser({ email: 'admin@gmail.com' })\n        loadProducts()\n        loadCategories()\n        setIsLoading(false)\n        return\n      }\n      // If users exist but no current user, redirect to login\n      navigate('/login')\n      return\n    }\n\n    // Get user data\n    const users = JSON.parse(localStorage.getItem('users') || '[]')\n    const currentUser = users.find(u => u.email === currentUserEmail)\n    \n    if (!currentUser) {\n      // If user not found in users array, check if it's an admin email\n      const adminEmails = ['yahiapro400@gmail.com', 'yahiacool2009@gmail.com']\n      if (adminEmails.includes(currentUserEmail)) {\n        setUser({ email: currentUserEmail })\n        loadProducts()\n        loadCategories()\n        setIsLoading(false)\n        return\n      }\n      navigate('/login')\n      return\n    }\n\n    // Check if user is admin\n    const adminEmails = ['yahiapro400@gmail.com', 'yahiacool2009@gmail.com']\n    if (!adminEmails.includes(currentUser.email)) {\n      navigate('/')\n      return\n    }\n\n    setUser(currentUser)\n\n    loadProducts()\n    loadCategories()\n    \n    // Preload images after products are loaded\n    setTimeout(() => {\n      preloadImages();\n    }, 100);\n    \n    // Auto-cleanup on page load to prevent memory issues\n    try {\n      const products = JSON.parse(localStorage.getItem('ecommerce_products') || '[]')\n      if (products.length > 50) {\n        const limitedProducts = products.slice(-50)\n        localStorage.setItem('ecommerce_products', JSON.stringify(limitedProducts))\n        console.log('üßπ Auto-cleanup: Reduced products from', products.length, 'to', limitedProducts.length)\n      }\n    } catch (error) {\n      console.error('Error during auto-cleanup:', error)\n    }\n\n    // ÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ŸÑŸÖŸÜÿπ ŸÖÿ¥ÿßŸÉŸÑ ÿßŸÑÿ∞ÿßŸÉÿ±ÿ©\n    cleanupStorage()\n    \n    setIsLoading(false)\n\n    // Event listener for storage changes\n    const handleStorageChange = (e) => {\n      if (e.key === 'ecommerce_products') {\n        // Debounce the update to prevent excessive re-renders\n        clearTimeout(window.storageTimeout)\n        window.storageTimeout = setTimeout(() => {\n          loadProducts()\n        }, 500)\n      }\n    }\n\n    window.addEventListener('storage', handleStorageChange)\n\n    // Click outside listener for category dropdown\n    const handleClickOutside = (event) => {\n      if (!event.target.closest('.category-selector')) {\n        setShowCategoryDropdown(false)\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n\n    return () => {\n      window.removeEventListener('storage', handleStorageChange)\n      document.removeEventListener('mousedown', handleClickOutside)\n      clearTimeout(window.storageTimeout)\n    }\n  }, [navigate])\n\n  const loadProducts = () => {\n    try {\n      const storedProducts = localStorage.getItem('ecommerce_products')\n      if (storedProducts) {\n        const parsedProducts = JSON.parse(storedProducts)\n        setProducts(parsedProducts)\n      }\n    } catch (error) {\n      console.error('Error loading products:', error)\n      setProducts([])\n    }\n  }\n\n  const loadCategories = () => {\n    try {\n      const storedCategories = localStorage.getItem('ecommerce_categories')\n      if (storedCategories) {\n        const parsedCategories = JSON.parse(storedCategories)\n        setCategories(parsedCategories)\n      }\n    } catch (error) {\n      console.error('Error loading categories:', error)\n    }\n  }\n\n  // ÿØÿßŸÑÿ© ŸÑÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ\n  const cleanupStorage = () => {\n    try {\n      // ÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÇÿØŸäŸÖÿ©\n      const keysToClean = [\n        'ecommerce_products_old',\n        'ecommerce_categories_old',\n        'cartItems_old',\n        'users_old'\n      ]\n      \n      keysToClean.forEach(key => {\n        try {\n          localStorage.removeItem(key)\n        } catch (e) {\n          console.warn(`Failed to remove ${key}:`, e)\n        }\n      })\n      \n      // ÿ™ŸÜÿ∏ŸäŸÅ sessionStorage\n      try {\n        sessionStorage.clear()\n      } catch (e) {\n        console.warn('Failed to clear sessionStorage:', e)\n      }\n      \n      console.log('‚úÖ Storage cleanup completed')\n    } catch (error) {\n      console.error('Error during storage cleanup:', error)\n    }\n  }\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target\n    setNewProduct(prev => ({\n      ...prev,\n      [name]: value\n    }))\n  }\n\n  const handleEditInputChange = (e) => {\n    const { name, value } = e.target\n    setEditingProduct(prev => ({\n      ...prev,\n      [name]: value\n    }))\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    \n    if (!newProduct.title || !newProduct.price || !newProduct.image || !newProduct.quantity) {\n      setMessage('Please fill in all required fields')\n      return\n    }\n\n\n    const product = {\n      id: Date.now(),\n      title: newProduct.title || '',\n      price: parseFloat(newProduct.price) || 0,\n      quantity: parseInt(newProduct.quantity) || 1,\n      image: newProduct.image || '',\n      description: newProduct.description || '',\n      category: newProduct.category || 'other',\n      createdAt: new Date().toISOString(),\n      createdBy: `${localStorage.getItem('currentUserEmail') || localStorage.getItem('loggedInUser') || localStorage.getItem('userEmail') || 'Admin'} (Admin)`,\n      isProtected: isProtectedAdmin()\n    }\n\n    // ÿ≠ŸÅÿ∏ ÿßŸÑŸÖŸÜÿ™ÿ¨ ÿßŸÑÿ¨ÿØŸäÿØ ŸÖÿ≠ŸÑŸäÿßŸã ŸÅŸÇÿ∑\n\n    // ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÖŸÜÿ™ÿ¨ ÿßŸÑÿ¨ÿØŸäÿØ ÿ•ŸÑŸâ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑŸÖŸàÿ¨ŸàÿØÿ©\n    const updatedProducts = [...products, product]\n    setProducts(updatedProducts)\n    \n    // ÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ŸÖÿπ ÿ∂ÿ∫ÿ∑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™\n    try {\n      // ÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÇÿ®ŸÑ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ\n      const optimizedProducts = updatedProducts.map(product => ({\n        id: product.id,\n        title: product.title,\n        price: product.price,\n        quantity: product.quantity,\n        image: product.image,\n        description: product.description,\n        category: product.category,\n        createdAt: product.createdAt\n      }))\n      \n      // Limit products before saving to prevent memory issues\n      const limitedProducts = optimizedProducts.slice(-50) // Keep only last 50 products\n      const compressedData = JSON.stringify(limitedProducts)\n      \n      // ŸÖÿ≠ÿßŸàŸÑÿ© ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ŸÖÿπ ŸÖÿπÿßŸÑÿ¨ÿ© ÿßŸÑÿ£ÿÆÿ∑ÿßÿ°\n      try {\n        localStorage.setItem('ecommerce_products', compressedData)\n      } catch (storageError) {\n        console.warn('Storage error, trying to clear old data:', storageError)\n        \n        // ŸÖÿ≠ÿßŸàŸÑÿ© ÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ Ÿàÿ•ÿπÿßÿØÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ©\n        try {\n          localStorage.removeItem('ecommerce_products')\n          localStorage.setItem('ecommerce_products', compressedData)\n        } catch (retryError) {\n          console.error('Failed to store even after cleanup:', retryError)\n          throw new Error('Storage is full or not available')\n        }\n      }\n      \n      // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ŸÜÿ¨ÿßÿ≠ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ\n      const storedData = localStorage.getItem('ecommerce_products')\n      if (!storedData) {\n        throw new Error('Failed to store products')\n      }\n      \n      console.log(`‚úÖ Successfully stored ${limitedProducts.length} products in localStorage`)\n      \n      // ÿ•ÿ∂ÿßŸÅÿ© ÿ™ÿ£ŸÉŸäÿØ ÿ•ÿ∂ÿßŸÅŸä ŸÑŸÑÿ™ÿÆÿ≤ŸäŸÜ\n      const verificationData = JSON.parse(storedData)\n      if (verificationData.length !== limitedProducts.length) {\n        console.warn('Storage verification failed, data may be corrupted')\n      }\n      \n    } catch (error) {\n      console.error('Error storing products:', error)\n      \n      // ŸÖÿ≠ÿßŸàŸÑÿ© ÿ≠ŸÅÿ∏ ŸÅŸä sessionStorage ŸÉÿ®ÿØŸäŸÑ\n      try {\n        const fallbackData = JSON.stringify(updatedProducts.slice(-20))\n        sessionStorage.setItem('ecommerce_products_fallback', fallbackData)\n        console.log('‚úÖ Saved to sessionStorage as fallback')\n        setMessage('‚ö†Ô∏è Warning: Product added to temporary storage. Data may be lost on page refresh.')\n      } catch (fallbackError) {\n        console.error('Fallback storage also failed:', fallbackError)\n        setMessage('‚ùå Error: Unable to save product. Please try again or clear browser data.')\n      }\n      \n      setTimeout(() => setMessage(''), 8000)\n    }\n    \n    // ÿ•ÿ±ÿ≥ÿßŸÑ ÿ≠ÿØÿ´ ŸÖÿÆÿµÿµ ŸÑÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ŸÅŸä ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©\n    window.dispatchEvent(new Event('productsUpdated'))\n    \n    setMessage(`‚úÖ Product \"${product.title}\" with ${product.quantity} pieces added successfully!`)\n    \n    // Clear form and redirect to products page\n    clearForm()\n    navigate('/')\n  }\n\n  const handleEditSubmit = async (e) => {\n    e.preventDefault()\n    \n    if (!editingProduct.title || !editingProduct.price || !editingProduct.image || !editingProduct.quantity) {\n      setMessage('Please fill in all required fields')\n      return\n    }\n\n    if (editingProduct.isProtected && !canModifyProtectedAdmin()) {\n      alert('‚ùå Cannot edit protected products!\\n\\nOnly yahiapro400@gmail.com and yahiacool2009@gmail.com can edit protected products.')\n      return\n    }\n\n    // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖŸÜÿ™ÿ¨ ŸÖÿ≠ŸÑŸäÿßŸã ŸÅŸÇÿ∑\n    const updatedProductLocal = {\n          ...editingProduct,\n          price: parseFloat(editingProduct.price),\n          quantity: parseInt(editingProduct.quantity),\n          updatedAt: new Date().toISOString(),\n          updatedBy: `${localStorage.getItem('currentUserEmail') || localStorage.getItem('loggedInUser') || localStorage.getItem('userEmail') || 'Admin'} (Admin)`\n        }\n        const updatedProductsLocal = products.map(product => product.id === editingProduct.id ? updatedProductLocal : product)\n        setProducts(updatedProductsLocal)\n        try { localStorage.setItem('ecommerce_products', JSON.stringify(updatedProductsLocal)) } catch {}\n\n        window.dispatchEvent(new Event('productsUpdated'))\n        setMessage(`‚úÖ Product \"${editingProduct.title}\" updated`)\n        setEditingProduct(null)\n        setShowForm(false)\n        setTimeout(() => setMessage(''), 3000)\n  }\n\n  // Function to clear form manually\n  const clearForm = () => {\n    setNewProduct({\n      title: '',\n      price: '',\n      quantity: 1,\n      image: '',\n      description: '',\n      category: 'electronics'\n    })\n    setMessage('Form cleared successfully!')\n    setTimeout(() => setMessage(''), 3000)\n  }\n\n  // Function to add new category\n  // ÿØÿßŸÑÿ© ŸÑÿ≠ÿ∞ŸÅ ŸÉÿßÿ™ÿ¨ÿ±Ÿä\n  const handleDeleteCategory = (categoryToDelete) => {\n    if (window.confirm(`Are you sure you want to delete the category \"${categoryToDelete}\"? This will also remove it from all products.`)) {\n      try {\n        // ÿ≠ÿ∞ŸÅ ÿßŸÑŸÉÿßÿ™ÿ¨ÿ±Ÿä ŸÖŸÜ ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑŸÉÿßÿ™ÿ¨ÿ±Ÿä\n        const updatedCategories = categories.filter(cat => cat !== categoryToDelete)\n        setCategories(updatedCategories)\n        localStorage.setItem('ecommerce_categories', JSON.stringify(updatedCategories))\n\n        // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑÿ™Ÿä ÿ™ÿ≥ÿ™ÿÆÿØŸÖ Ÿáÿ∞Ÿá ÿßŸÑŸÉÿßÿ™ÿ¨ÿ±Ÿä\n        const updatedProducts = products.map(product => {\n          if (product.category === categoryToDelete) {\n            return {\n              ...product,\n              category: 'Other' // ÿ™ÿπŸäŸäŸÜ ŸÉÿßÿ™ÿ¨ÿ±Ÿä ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ©\n            }\n          }\n          return product\n        })\n\n        setProducts(updatedProducts)\n        localStorage.setItem('ecommerce_products', JSON.stringify(updatedProducts))\n\n        // ÿ•ÿ±ÿ≥ÿßŸÑ ÿ≠ÿØÿ´ ŸÖÿÆÿµÿµ ŸÑÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ŸÅŸä ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©\n        window.dispatchEvent(new Event('productsUpdated'))\n\n        setMessage(`‚úÖ Category \"${categoryToDelete}\" deleted successfully! Products moved to \"Other\" category.`)\n        setTimeout(() => setMessage(''), 4000)\n        console.log(`‚úÖ Category \"${categoryToDelete}\" deleted and products updated`)\n      } catch (error) {\n        console.error('Error deleting category:', error)\n        setMessage('‚ö†Ô∏è Error deleting category')\n        setTimeout(() => setMessage(''), 3000)\n      }\n    }\n  }\n\n  const handleAddCategory = (e) => {\n    e.preventDefault()\n    \n    if (!newCategory.trim()) {\n      setMessage('Please enter a category name')\n      return\n    }\n\n    const categoryName = newCategory.trim().toLowerCase()\n    \n    if (categories.includes(categoryName)) {\n      setMessage('This category already exists')\n      return\n    }\n\n    const updatedCategories = [...categories, categoryName]\n    setCategories(updatedCategories)\n    localStorage.setItem('ecommerce_categories', JSON.stringify(updatedCategories))\n    \n    setNewCategory('')\n    setShowCategoryForm(false)\n    setMessage(`Category \"${categoryName}\" added successfully!`)\n    \n    setTimeout(() => setMessage(''), 3000)\n  }\n\n  if (isLoading) {\n    return (\n      <div style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        background: '#f5f7fa'\n      }}>\n        <div style={{\n          textAlign: 'center',\n          color: '#666'\n        }}>\n          <div style={{\n            width: '40px',\n            height: '40px',\n            border: '4px solid #f3f3f3',\n            borderTop: '4px solid #667eea',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            margin: '0 auto 20px'\n          }}></div>\n          <p>Loading...</p>\n        </div>\n      </div>\n    )\n  }\n\n  // Allow access if no users exist (first time setup) or if user is logged in\n  const currentUserEmail = localStorage.getItem('currentUserEmail') || \n                          localStorage.getItem('loggedInUser') || \n                          localStorage.getItem('userEmail')\n  const users = JSON.parse(localStorage.getItem('users') || '[]')\n  \n  if (!currentUserEmail && users.length > 0) {\n    return (\n      <div className=\"access-denied\">\n        <h1>Access Denied</h1>\n        <p>You don't have permission to access this page.</p>\n        <button onClick={() => navigate('/')}>Go Home</button>\n      </div>\n    )\n  }\n\n  return (\n    <div className={`add-products-container ${darkMode ? 'dark-mode' : ''}`}>\n      <div className=\"add-products-header\">\n        <h1>Product Management</h1>\n        <p>Add, edit, and manage your products</p>\n      </div>\n\n      {message && (\n        <div className={`message ${message.includes('successfully') ? 'success' : 'error'}`}>\n          {message}\n        </div>\n      )}\n\n      {/* Strapi Products (read-only) */}\n      {!showCategoriesSection && productList && productList.length > 0 && (\n        <div className=\"products-section\" style={{ marginTop: '16px' }}>\n          <div className=\"products-header\">\n            <h2>Strapi Products ({productList.length})</h2>\n          </div>\n          <div className='products-grid'>\n                {/* ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ProductItem ŸÑÿπÿØŸÖ ÿ™ÿπÿ±ŸäŸÅŸá */}\n          </div>\n        </div>\n      )}\n\n      <div className=\"admin-actions\">\n        {!showCategoriesSection && (\n          <>\n        <button \n              className=\"add-product-btn\"\n              onClick={() => {\n                setShowForm(!showForm)\n                setEditingProduct(null)\n              }}\n            >\n              {showForm ? 'Cancel' : 'Add New Product'}\n            </button>\n\n          </>\n        )}\n        <button // Categories Management button\n          className=\"categories-management-btn\"\n          onClick={() => {\n            setShowCategoriesSection(!showCategoriesSection)\n            if (!showCategoriesSection) {\n              // Scroll to categories section when showing\n              setTimeout(() => {\n                const categoriesSection = document.querySelector('.categories-section')\n                if (categoriesSection) {\n                  categoriesSection.scrollIntoView({ behavior: 'smooth' })\n                }\n              }, 100)\n            }\n          }}\n          title=\"Manage product categories\"\n        >\n          {showCategoriesSection ? '‚¨ÜÔ∏è Back to Top' : 'üìÇ Categories'}\n        </button>\n      </div>\n\n      {/* Product Form */}\n      {showForm && !showCategoriesSection && (\n        <div className=\"product-form-container\">\n          <h2>{editingProduct ? 'Edit Product' : 'Add New Product'}</h2>\n          \n          <form onSubmit={editingProduct ? handleEditSubmit : handleSubmit} className=\"product-form\">\n          <div className=\"form-group\">\n              <label htmlFor=\"title\">Product Title *</label>\n            <input\n              type=\"text\"\n                id=\"title\"\n                name=\"title\"\n                value={editingProduct ? editingProduct.title : newProduct.title}\n                onChange={editingProduct ? handleEditInputChange : handleInputChange}\n                placeholder=\"Enter product title\"\n              required\n            />\n          </div>\n\n            <div className=\"form-row\">\n          <div className=\"form-group\">\n                <label htmlFor=\"price\">Price *</label>\n            <input\n              type=\"number\"\n              id=\"price\"\n              name=\"price\"\n                  value={editingProduct ? editingProduct.price : newProduct.price}\n                  onChange={editingProduct ? handleEditInputChange : handleInputChange}\n                  placeholder=\"0.00\"\n              step=\"0.01\"\n                  min=\"0\"\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n                <label htmlFor=\"quantity\">Quantity *</label>\n                <input\n                  type=\"number\"\n                  id=\"quantity\"\n                  name=\"quantity\"\n                  value={editingProduct ? editingProduct.quantity : newProduct.quantity}\n                  onChange={editingProduct ? handleEditInputChange : handleInputChange}\n                  placeholder=\"1\"\n                  min=\"1\"\n              required\n            />\n              </div>\n          </div>\n\n          <div className=\"form-group\">\n              <label htmlFor=\"category\">Category *</label>\n              <div className=\"category-selector\">\n                <button\n                  type=\"button\"\n                  className=\"category-dropdown-btn\"\n                  onClick={() => setShowCategoryDropdown(!showCategoryDropdown)}\n                >\n                  {editingProduct ? editingProduct.category : newProduct.category}\n                  <span className=\"dropdown-arrow\">‚ñº</span>\n                </button>\n                {showCategoryDropdown && (\n                  <div className=\"category-dropdown\">\n                    {categories.map(category => (\n                      <div\n                        key={category}\n                        className=\"category-option\"\n                        onClick={() => {\n                          if (editingProduct) {\n                            setEditingProduct(prev => ({ ...prev, category }))\n                          } else {\n                            setNewProduct(prev => ({ ...prev, category }))\n                          }\n                          setShowCategoryDropdown(false)\n                        }}\n                      >\n                        {category.charAt(0).toUpperCase() + category.slice(1)}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n          </div>\n\n          <div className=\"form-group\">\n              <label htmlFor=\"image\">Product Image *</label>\n              <div className=\"image-upload-container\">\n            <input\n                  type=\"text\"\n              id=\"image\"\n              name=\"image\"\n                  value={editingProduct ? editingProduct.image : newProduct.image}\n                  onChange={editingProduct ? handleEditInputChange : handleInputChange}\n                  placeholder=\"Enter image URL (supports: jpg, png, webp, gif)\"\n              required\n            />\n                <input\n                  type=\"file\"\n                  id=\"imageFile\"\n                  accept=\"image/*\"\n                  onChange={(e) => {\n                    const file = e.target.files[0]\n                    if (file) {\n                      const reader = new FileReader()\n                      reader.onload = (e) => {\n                        if (editingProduct) {\n                          setEditingProduct(prev => ({\n                            ...prev,\n                            image: e.target.result\n                          }))\n                        } else {\n                          setNewProduct(prev => ({\n                            ...prev,\n                            image: e.target.result\n                          }))\n                        }\n                      }\n                      reader.readAsDataURL(file)\n                    }\n                  }}\n                  className=\"file-input\"\n                />\n                <label htmlFor=\"imageFile\" className=\"file-label\">\n                  <svg className=\"upload-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                    <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"></path>\n                    <polyline points=\"7,10 12,15 17,10\"></polyline>\n                    <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"></line>\n                  </svg>\n                  Choose Image\n                </label>\n                {(editingProduct ? editingProduct.image : newProduct.image) && (\n                  <div className=\"image-preview\">\n                    <img \n                      src={editingProduct ? editingProduct.image : newProduct.image} \n                      alt=\"Preview\" \n                      loading=\"eager\"\n                      decoding=\"async\"\n                    />\n                    <button \n                      type=\"button\" \n                      className=\"remove-image\"\n                      onClick={() => {\n                        if (editingProduct) {\n                          setEditingProduct(prev => ({ ...prev, image: '' }))\n                        } else {\n                          setNewProduct(prev => ({ ...prev, image: '' }))\n                        }\n                      }}\n                    >\n                      √ó\n                    </button>\n                  </div>\n                )}\n              </div>\n          </div>\n\n          <div className=\"form-group\">\n              <label htmlFor=\"description\">Description</label>\n              <textarea\n                id=\"description\"\n                name=\"description\"\n                value={editingProduct ? editingProduct.description : newProduct.description}\n                onChange={editingProduct ? handleEditInputChange : handleInputChange}\n                rows=\"4\"\n                placeholder=\"Enter product description\"\n            />\n          </div>\n\n            <div className=\"form-actions\">\n              <button type=\"submit\" className=\"submit-btn\">\n                {editingProduct ? 'Update Product' : 'Add Product'}\n              </button>\n\n              <button \n                type=\"button\" \n                className=\"cancel-btn\"\n                onClick={() => {\n                  setShowForm(false)\n                  setEditingProduct(null)\n                }}\n              >\n                Cancel\n          </button>\n            </div>\n        </form>\n        </div>\n      )}\n\n      {/* Products Display Section */}\n      {!showCategoriesSection && (\n        <div className=\"products-section\">\n          <div className=\"products-header\">\n            <h2>Products Management ({products.length})</h2>\n      </div>\n\n        {products.length === 0 ? (\n            <div className=\"no-products\">\n              <p>No products added yet.</p>\n            </div>\n        ) : (\n          <div className=\"products-grid\">\n            {products.map(product => (\n              <div key={product.id} className=\"product-card\">\n                <div className=\"product-image\">\n                    <img \n                      src={product.image} \n                      alt={product.title} \n                      loading=\"eager\"\n                      decoding=\"async\"\n                      fetchPriority=\"high\"\n                      style={{border: '2px solid red'}}\n                    />\n                    <div className=\"image-placeholder\" style={{ display: 'none' }}>\n                      <span>üì∑</span>\n                      <p>No Image</p>\n                    </div>\n                    \n                    {/* Stock Status Overlay */}\n                    <div className=\"stock-status-overlay\">\n                      {product.quantity === 0 ? (\n                        <span className=\"out-of-stock-overlay\">\n                          <span className=\"stock-icon\">‚ùå</span>\n                          <span className=\"stock-text\">Out of Stock</span>\n                        </span>\n                      ) : product.quantity <= 5 ? (\n                        <span className=\"low-stock-overlay\">\n                          <span className=\"stock-icon\">‚ö†Ô∏è</span>\n                          <span className=\"stock-text\">Low Stock</span>\n                        </span>\n                      ) : (\n                        <span className=\"in-stock-overlay\">\n                          <span className=\"stock-icon\">‚úÖ</span>\n                          <span className=\"stock-text\">In Stock</span>\n                        </span>\n                      )}\n                    </div>\n                    \n                    {product.updatedAt && (\n                      <div className=\"updated-badge\">Updated</div>\n                    )}\n                    {product.isProtected && (\n                      <div className=\"protected-badge\">üîí Protected</div>\n                    )}\n                  </div>\n                  <div className=\"product-info\">\n                    <h3>{product.title}</h3>\n                    <p className=\"price\">${product.price}</p>\n                    <p className=\"quantity\">Quantity: {product.quantity || 1}</p>\n\n                    <p className=\"category\">{product.category}</p>\n                    {product.description && (\n                      <p className=\"description\">{product.description}</p>\n                    )}\n                    <p className=\"product-id\">ID: {product.id}</p>\n                    <p className=\"created-date\">\n                      Created: {new Date(product.createdAt).toLocaleDateString()}\n                      {product.createdBy && ` by ${product.createdBy}`}\n                    </p>\n                    {product.updatedAt && (\n                      <p className=\"updated-date\">\n                        Updated: {new Date(product.updatedAt).toLocaleDateString()}\n                        {product.updatedBy && ` by ${product.updatedBy}`}\n                      </p>\n                    )}\n                    {product.isProtected && (\n                      <p className=\"protected-info\">\n                        üîí Protected Product - Only yahiapro400@gmail.com and yahiacool2009@gmail.com can modify\n                      </p>\n                    )}\n                </div>\n                <div className=\"product-actions\">\n                    <button \n                      className=\"edit-btn\"\n                      onClick={() => {\n                        setEditingProduct({\n                          ...product,\n                          price: product.price.toString(),\n                          quantity: product.quantity.toString()\n                        })\n                        setShowForm(true)\n                      }}\n                      title=\"Edit Product\"\n                    >\n                      ‚úèÔ∏è Edit\n                    </button>\n                  <button \n                    className=\"delete-btn\"\n                      onClick={() => {\n                        const productToDelete = products.find(p => p.id === product.id)\n                        \n                        // Check if trying to delete a protected product\n                        if (productToDelete && productToDelete.isProtected && !canModifyProtectedAdmin()) {\n                          alert('‚ùå Cannot delete protected products!\\n\\nOnly yahiapro400@gmail.com and yahiacool2009@gmail.com can delete protected products.')\n                          return\n                        }\n                        \n                        if (window.confirm('Are you sure you want to delete this product?')) {\n                          const updatedProducts = products.filter(p => p.id !== product.id)\n                          setProducts(updatedProducts)\n                          \n                          try {\n                            const limitedProducts = updatedProducts.slice(-50)\n                            const compressedData = JSON.stringify(limitedProducts)\n                            localStorage.setItem('ecommerce_products', compressedData)\n                            \n                            const storedData = localStorage.getItem('ecommerce_products')\n                            if (!storedData) {\n                              throw new Error('Failed to store products')\n                            }\n                            \n                            console.log(`‚úÖ Successfully deleted product. ${limitedProducts.length} products remaining in localStorage`)\n                          } catch (error) {\n                            console.error('Error deleting product:', error)\n                            setMessage('‚ö†Ô∏è Warning: Product deleted but storage may be limited.')\n                            setTimeout(() => setMessage(''), 5000)\n                          }\n                          \n                          window.dispatchEvent(new Event('productsUpdated'))\n                          \n                          setMessage(`Product \"${productToDelete.title}\" deleted successfully! Remaining products: ${updatedProducts.length}`)\n                          setTimeout(() => setMessage(''), 3000)\n                        }\n                      }}\n                      title=\"Delete Product\"\n                    >\n                      üóëÔ∏è Delete\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n      )}\n\n      {/* Categories Management Section */}\n      {showCategoriesSection && (\n        <div className=\"categories-section\">\n        <div className=\"categories-header\">\n          <h2>Categories Management ({categories.length})</h2>\n          <div className=\"categories-actions\">\n            <button \n              className=\"add-category-btn\"\n              onClick={() => setShowCategoryForm(!showCategoryForm)}\n            >\n              {showCategoryForm ? 'Cancel' : '‚ûï Add New Category'}\n            </button>\n            <button \n              className=\"back-to-top-btn\"\n              onClick={() => {\n                window.scrollTo({ top: 0, behavior: 'smooth' })\n              }}\n            >\n              ‚¨ÜÔ∏è Back to Top\n            </button>\n          </div>\n        </div>\n\n        {showCategoryForm && (\n          <div className=\"category-form\">\n            <form onSubmit={handleAddCategory}>\n              <div className=\"form-group\">\n                <label htmlFor=\"newCategory\">Category Name</label>\n                <input\n                  type=\"text\"\n                  id=\"newCategory\"\n                  value={newCategory}\n                  onChange={(e) => setNewCategory(e.target.value)}\n                  placeholder=\"Enter category name\"\n                  required\n                />\n              </div>\n              <button type=\"submit\" className=\"submit-btn\">Add Category</button>\n            </form>\n          </div>\n        )}\n\n        <div className=\"categories-grid\">\n          {categories.map(category => (\n            <div key={category} className=\"category-card\">\n              <div className=\"category-info\">\n                <h3>{category.charAt(0).toUpperCase() + category.slice(1)}</h3>\n                <p>Products in this category: {products.filter(p => p.category === category).length}</p>\n              </div>\n              <div className=\"category-actions\">\n                <button \n                  className=\"delete-category-btn\"\n                  onClick={() => handleDeleteCategory(category)}\n                  disabled={category === 'other'}\n                  title={category === 'other' ? 'Cannot delete default category' : 'Delete category'}\n                >\n                  üóëÔ∏è Delete\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n      )}\n    </div>\n  )\n}"],"names":["AddProducts","_ref2","darkMode","productList","setProductList","useState","useEffect","storedProducts","localStorage","getItem","JSON","parse","e","navigate","useNavigate","user","setUser","isLoading","setIsLoading","message","setMessage","showForm","setShowForm","showStats","setShowStats","showCategoriesSection","setShowCategoriesSection","showCategoryForm","setShowCategoryForm","showCategoryDropdown","setShowCategoryDropdown","products","setProducts","categories","setCategories","newCategory","setNewCategory","newProduct","setNewProduct","title","price","quantity","image","description","category","editingProduct","setEditingProduct","protectedAdmins","isProtectedAdmin","currentUserEmail","includes","canModifyProtectedAdmin","length","email","loadProducts","loadCategories","currentUser","find","u","setTimeout","forEach","product","Image","src","limitedProducts","slice","setItem","stringify","console","log","error","cleanupStorage","handleStorageChange","key","clearTimeout","window","storageTimeout","addEventListener","handleClickOutside","event","target","closest","document","removeEventListener","parsedProducts","storedCategories","parsedCategories","removeItem","warn","concat","sessionStorage","clear","handleInputChange","name","value","prev","_objectSpread","handleEditInputChange","clearForm","_jsx","style","display","justifyContent","alignItems","height","background","children","_jsxs","textAlign","color","width","border","borderTop","borderRadius","animation","margin","users","className","onClick","marginTop","_Fragment","categoriesSection","querySelector","scrollIntoView","behavior","onSubmit","async","preventDefault","isProtected","alert","updatedProductLocal","parseFloat","parseInt","updatedAt","Date","toISOString","updatedBy","updatedProductsLocal","map","id","_unused","dispatchEvent","Event","now","createdAt","createdBy","updatedProducts","optimizedProducts","compressedData","storageError","retryError","Error","storedData","fallbackData","fallbackError","htmlFor","type","onChange","placeholder","required","step","min","charAt","toUpperCase","accept","file","files","reader","FileReader","onload","result","readAsDataURL","xmlns","viewBox","fill","stroke","strokeWidth","d","points","x1","y1","x2","y2","alt","loading","decoding","rows","fetchPriority","toLocaleDateString","toString","productToDelete","p","confirm","filter","scrollTo","top","trim","categoryName","toLowerCase","updatedCategories","categoryToDelete","cat","handleDeleteCategory","disabled"],"sourceRoot":""}