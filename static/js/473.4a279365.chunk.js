"use strict";(self.webpackChunke_commer_react=self.webpackChunke_commer_react||[]).push([[473],{473:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var s=r(43),a=r(579);function c(e){let{darkMode:t=!0}=e;const[r,c]=(0,s.useState)([]),[n,l]=(0,s.useState)(""),[o,i]=(0,s.useState)(null),[d,g]=(0,s.useState)("");(0,s.useEffect)(()=>{m()},[]);const m=()=>{try{const e=JSON.parse(localStorage.getItem("ecommerce_categories")||"[]");if(0===e.length){const e=["Electronics","Clothing","Books","Home & Garden","Sports","Beauty","Toys","Other"];c(e),localStorage.setItem("ecommerce_categories",JSON.stringify(e))}else c(e)}catch(e){console.error("Error loading categories:",e),c([])}},h=()=>{if(!n.trim())return void alert("Please enter a category name");if(r.includes(n.trim()))return void alert("Category already exists");const e=[...r,n.trim()];c(e),localStorage.setItem("ecommerce_categories",JSON.stringify(e)),l(""),alert("Category added successfully!")},u=()=>{if(!d.trim())return void alert("Please enter a category name");if(r.includes(d.trim())&&d.trim()!==o)return void alert("Category already exists");const e=r.map(e=>e===o?d.trim():e);c(e),localStorage.setItem("ecommerce_categories",JSON.stringify(e)),i(null),g(""),alert("Category updated successfully!")},x=()=>{i(null),g("")},y=(()=>{try{const e=JSON.parse(localStorage.getItem("ecommerce_products")||"[]"),t={};return r.forEach(r=>{t[r]=e.filter(e=>e.category===r).length}),t}catch(e){return console.error("Error getting category stats:",e),{}}})();return(0,a.jsxs)("div",{className:"category-management-container "+(t?"dark-mode":""),children:[(0,a.jsx)("div",{className:"category-header",children:(0,a.jsxs)("div",{className:"header-content",children:[(0,a.jsxs)("div",{className:"header-text",children:[(0,a.jsx)("h1",{children:"Category Management"}),(0,a.jsx)("p",{children:"Manage your product categories"})]}),(0,a.jsx)("button",{className:"back-btn",onClick:()=>window.location.href="/add-products",style:{background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)",marginLeft:"10px"},children:"\ud83d\udd19 Back to Add Products"})]})}),(0,a.jsxs)("div",{className:"category-form",children:[(0,a.jsx)("h2",{children:"Add New Category"}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"newCategory",children:"Category Name:"}),(0,a.jsx)("input",{type:"text",id:"newCategory",value:n,onChange:e=>l(e.target.value),placeholder:"Enter category name",onKeyPress:e=>"Enter"===e.key&&h()}),(0,a.jsx)("button",{onClick:h,className:"add-btn",children:"Add Category"})]})]}),(0,a.jsxs)("div",{className:"categories-list",children:[(0,a.jsxs)("h2",{children:["Current Categories (",r.length,")"]}),0===r.length?(0,a.jsx)("p",{className:"no-categories",children:"No categories found."}):(0,a.jsx)("div",{className:"categories-grid",children:r.map((e,t)=>(0,a.jsxs)("div",{className:"category-card",children:[(0,a.jsx)("div",{className:"category-info",children:o===e?(0,a.jsxs)("div",{className:"edit-form",children:[(0,a.jsx)("input",{type:"text",value:d,onChange:e=>g(e.target.value),onKeyPress:e=>"Enter"===e.key&&u()}),(0,a.jsxs)("div",{className:"edit-actions",children:[(0,a.jsx)("button",{onClick:u,className:"save-btn",children:"Save"}),(0,a.jsx)("button",{onClick:x,className:"cancel-btn",children:"Cancel"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{children:e}),(0,a.jsxs)("p",{className:"category-count",children:["Products: ",y[e]||0]})]})}),(0,a.jsx)("div",{className:"category-actions",children:o!==e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"edit-btn",onClick:()=>{return i(t=e),void g(t);var t},children:"Edit"}),(0,a.jsx)("button",{className:"delete-btn",onClick:()=>(e=>{if(window.confirm(`Are you sure you want to delete "${e}"?`)){const t=r.filter(t=>t!==e);c(t),localStorage.setItem("ecommerce_categories",JSON.stringify(t)),alert("Category deleted successfully!")}})(e),children:"Delete"})]})})]},t))})]}),(0,a.jsxs)("div",{className:"category-stats",children:[(0,a.jsx)("h2",{children:"Category Statistics"}),(0,a.jsxs)("div",{className:"stats-grid",children:[(0,a.jsxs)("div",{className:"stat-card",children:[(0,a.jsx)("h3",{children:"Total Categories"}),(0,a.jsx)("p",{children:r.length})]}),(0,a.jsxs)("div",{className:"stat-card",children:[(0,a.jsx)("h3",{children:"Total Products"}),(0,a.jsx)("p",{children:Object.values(y).reduce((e,t)=>e+t,0)})]}),(0,a.jsxs)("div",{className:"stat-card",children:[(0,a.jsx)("h3",{children:"Most Popular Category"}),(0,a.jsx)("p",{children:(()=>{const e=Object.entries(y);if(0===e.length)return"None";const t=e.reduce((e,t)=>t[1]>e[1]?t:e);return t[1]>0?t[0]:"None"})()})]})]})]})]})}}}]);
//# sourceMappingURL=473.4a279365.chunk.js.map