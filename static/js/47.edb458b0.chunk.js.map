{"version":3,"file":"static/js/47.edb458b0.chunk.js","mappings":"gKAEA,MAAMA,EAASC,CAAAA,SAAAA,aAAAA,WAAAA,kBAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,sBAAwB,4BAC7CC,EAAWF,CAAAA,SAAAA,aAAAA,WAAAA,kBAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYG,uBAS7B,EAPoBC,EAAAA,EAAMC,OAAO,CAC/BC,QAASP,EACTQ,QAASL,EACL,CAAEM,cAAc,UAADC,OAAYP,IAC3B,CAAC,ICPDQ,EAAeV,CAAAA,SAAAA,aAAAA,WAAAA,kBAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,sBAAwB,wBAgD5CU,EAAoBC,gBACRC,EAAYC,IAAI,GAADL,OAAIC,EAAY,kDACtCK,KAAKA,K,aC3CR,SAASC,EAAWC,GAAe,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAAb,QAAEC,GAASf,EAC7C,MAAMgB,EAAYjC,CAAAA,SAAAA,aAAAA,WAAAA,kBAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYkC,4BARhC,WACE,MAAMnC,EAASC,CAAAA,SAAAA,aAAAA,WAAAA,kBAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,sBAAwB,4BAEnD,OAAIF,EAAOoC,SAAS,QAAgBpC,EAAOqC,MAAM,GAAI,GAC9CrC,CACT,CAG8DsC,GAEtDC,EAAY,OAAPN,QAAO,IAAPA,OAAO,EAAPA,EAASM,GACdC,GAAe,OAAPP,QAAO,IAAPA,OAAO,EAAPA,EAASQ,aAAc,CAAC,EAEhCC,EAAQF,EAAMG,OAAS,WACvBC,EAAcJ,EAAMI,aAAe,GACnCC,EAAmB,QAAd1B,EAAGqB,EAAMK,aAAK,IAAA1B,EAAAA,EAAI,GAEvB2B,GAAkB,QAAT1B,EAAAoB,EAAMO,WAAG,IAAA3B,GAAM,QAANC,EAATD,EAAWJ,YAAI,IAAAK,GAAY,QAAZC,EAAfD,EAAiBoB,kBAAU,IAAAnB,GAAS,QAATC,EAA3BD,EAA6B0B,eAAO,IAAAzB,GAAQ,QAARC,EAApCD,EAAsC0B,cAAM,IAAAzB,OAAnC,EAATA,EAA8C0B,OAC/C,QADkDzB,EAC3De,EAAMO,WAAG,IAAAtB,GAAM,QAANC,EAATD,EAAWT,YAAI,IAAAU,GAAY,QAAZC,EAAfD,EAAiBe,kBAAU,IAAAd,GAAS,QAATC,EAA3BD,EAA6BqB,eAAO,IAAApB,GAAO,QAAPC,EAApCD,EAAsCuB,aAAK,IAAAtB,OAAlC,EAATA,EAA6CqB,OACpC,QADuCpB,EAChDU,EAAMO,WAAG,IAAAjB,GAAM,QAANC,EAATD,EAAWd,YAAI,IAAAe,GAAY,QAAZC,EAAfD,EAAiBU,kBAAU,IAAAT,OAAlB,EAATA,EAA6BkB,KAC5BE,EAAWN,EACZA,EAAOO,WAAW,QAAUP,EAAM,GAAApC,OAAMwB,GAASxB,OAAGoC,GACrD,oDAEJ,OACEQ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sDAAqDC,SAAA,EAClEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,8DAA6DC,UAC1EC,EAAAA,EAAAA,KAAA,OACEC,IAAKN,EACLO,IAAKjB,EACLa,UAAU,6BACVK,QAAQ,YAGZN,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,qCAAoCC,SAAEd,IACnDE,IACCa,EAAAA,EAAAA,KAAA,KAAGF,UAAU,0CAAyCC,SAAEZ,IAE/C,KAAVC,IACCS,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBC,SAAA,CAAC,IAAEX,MAE5CS,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCC,SAAA,CAAC,OAAKjB,UAI7D,CC5Ce,SAASsB,IACtB,MAAOC,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,KACxCJ,EAASK,IAAcD,EAAAA,EAAAA,WAAS,IAChCE,EAAOC,IAAYH,EAAAA,EAAAA,UAAS,IAgBnC,OAdAI,EAAAA,EAAAA,WAAU,KACmBvD,WACzB,IAAK,IAADwD,EACF,MAAMC,QAAYC,IAClBR,GAAkB,OAAHO,QAAG,IAAHA,GAAS,QAAND,EAAHC,EAAKtD,YAAI,IAAAqD,OAAN,EAAHA,EAAWrD,OAAQ,GACpC,CAAE,MAAOwD,GACPL,EAAS,sIACX,CAAC,QACCF,GAAW,EACb,GAEFQ,IACC,IAECb,GAAgBH,EAAAA,EAAAA,KAAA,OAAKF,UAAU,MAAKC,SAAC,2EACrCU,GAAcT,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mBAAkBC,SAAEU,KAGnDT,EAAAA,EAAAA,KAAA,OAAKF,UAAU,2DAA0DC,SACtEM,EAAYY,IAAKC,IAChBlB,EAAAA,EAAAA,KAACxC,EAAW,CAACgB,QAAS0C,GAAWA,EAAKpC,MAI9C,C","sources":["apis/axiosClient.js","apis/ProductApis.js","components/ProductItem.js","components/ProductsApi.js"],"sourcesContent":["import axios from 'axios'\n\nconst apiUrl = process.env.REACT_APP_STRAPI_URL || 'http://localhost:1337/api'\nconst apiToken = process.env.REACT_APP_STRAPI_TOKEN\n\nconst axiosClient = axios.create({\n  baseURL: apiUrl,\n  headers: apiToken\n    ? { Authorization: `Bearer ${apiToken}` }\n    : {}\n})\n\nexport default axiosClient\n\n\n","import axiosClient from './axiosClient';\n\nconst API_BASE_URL = process.env.REACT_APP_STRAPI_URL || 'http://localhost:1337';\n\nexport const getProducts = async () => {\n  const response = await axiosClient.get(`${API_BASE_URL}/api/products?populate=*`);\n  return response.data.data;\n};\n\nexport const getProduct = async (id) => {\n  const response = await axiosClient.get(`${API_BASE_URL}/api/products/${id}?populate=*`);\n  return response.data.data;\n};\n\nexport const createProduct = async (product) => {\n  const response = await axiosClient.post(`${API_BASE_URL}/api/products`, {\n    data: product\n  });\n  return response.data.data;\n};\n\nexport const updateProduct = async (id, product) => {\n  const response = await axiosClient.put(`${API_BASE_URL}/api/products/${id}`, {\n    data: product\n  });\n  return response.data.data;\n};\n\nexport const deleteProduct = async (id) => {\n  const response = await axiosClient.delete(`${API_BASE_URL}/api/products/${id}`);\n  return response.data;\n};\n\n// Additional functions for strapi integration\nexport const uploadFile = async (formData) => {\n  const response = await axiosClient.post(`${API_BASE_URL}/api/upload`, formData);\n  return response.data;\n};\n\nexport const getProductByDocumentId = async (documentId) => {\n  const response = await axiosClient.get(`${API_BASE_URL}/api/products/${documentId}?populate=*`);\n  return response.data.data;\n};\n\nexport const findProductByDocumentId = async (documentId) => {\n  const response = await axiosClient.get(`${API_BASE_URL}/api/products/${documentId}?populate=*`);\n  return response.data.data;\n};\n\n// Helper function for latest products\nexport const getLatestProducts = async () => {\n  const response = await axiosClient.get(`${API_BASE_URL}/api/products?populate=*&sort=createdAt:desc`);\n  return response.data.data;\n};\n","import React from 'react'\n\nfunction resolveMediaBaseUrl() {\n  const apiUrl = process.env.REACT_APP_STRAPI_URL || 'http://localhost:1337/api'\n  // Derive media base by removing trailing /api if present\n  if (apiUrl.endsWith('/api')) return apiUrl.slice(0, -4)\n  return apiUrl\n}\n\nexport default function ProductItem({ product }) {\n  const mediaBase = process.env.REACT_APP_STRAPI_MEDIA_URL || resolveMediaBaseUrl()\n\n  const id = product?.id\n  const attrs = product?.attributes || {}\n\n  const title = attrs.titel || 'No title'\n  const description = attrs.description || ''\n  const price = attrs.price ?? ''\n\n  const rawUrl = attrs.img?.data?.attributes?.formats?.medium?.url\n    || attrs.img?.data?.attributes?.formats?.small?.url\n    || attrs.img?.data?.attributes?.url\n  const imageUrl = rawUrl\n    ? (rawUrl.startsWith('http') ? rawUrl : `${mediaBase}${rawUrl}`)\n    : 'https://via.placeholder.com/400x400?text=No+Image'\n\n  return (\n    <div className=\"p-3 bg-white rounded-md shadow-sm dark:bg-[#1f2937]\">\n      <div className=\"w-full aspect-square overflow-hidden rounded-md bg-gray-100\">\n        <img\n          src={imageUrl}\n          alt={title}\n          className=\"w-full h-full object-cover\"\n          loading=\"lazy\"\n        />\n      </div>\n      <div className=\"mt-2\">\n        <h3 className=\"text-sm font-semibold line-clamp-1\">{title}</h3>\n        {description && (\n          <p className=\"text-xs text-gray-500 line-clamp-2 mt-1\">{description}</p>\n        )}\n        {price !== '' && (\n          <div className=\"text-sm font-bold mt-2\">${price}</div>\n        )}\n        <div className=\"text-[10px] text-gray-400 mt-1\">ID: {id}</div>\n      </div>\n    </div>\n  )\n}\n\n\n","import React, { useEffect, useState } from 'react'\nimport * as ProductApis from '../apis/ProductApis'\nimport ProductItem from './ProductItem'\n\nexport default function ProductsApi() {\n  const [productList, setProductList] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState('')\n\n  useEffect(() => {\n    const getLatestProducts_ = async () => {\n      try {\n        const res = await ProductApis.getLatestProducts()\n        setProductList(res?.data?.data || [])\n      } catch (e) {\n        setError('فشل في تحميل المنتجات من Strapi')\n      } finally {\n        setLoading(false)\n      }\n    }\n    getLatestProducts_()\n  }, [])\n\n  if (loading) return <div className=\"p-4\">جاري التحميل...</div>\n  if (error) return <div className=\"p-4 text-red-600\">{error}</div>\n\n  return (\n    <div className='grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4 p-4'>\n      {productList.map((item) => (\n        <ProductItem product={item} key={item.id} />\n      ))}\n    </div>\n  )\n}\n\n\n"],"names":["apiUrl","process","REACT_APP_STRAPI_URL","apiToken","REACT_APP_STRAPI_TOKEN","axios","create","baseURL","headers","Authorization","concat","API_BASE_URL","getLatestProducts","async","axiosClient","get","data","ProductItem","_ref","_attrs$price","_attrs$img","_attrs$img$data","_attrs$img$data$attri","_attrs$img$data$attri2","_attrs$img$data$attri3","_attrs$img2","_attrs$img2$data","_attrs$img2$data$attr","_attrs$img2$data$attr2","_attrs$img2$data$attr3","_attrs$img3","_attrs$img3$data","_attrs$img3$data$attr","product","mediaBase","REACT_APP_STRAPI_MEDIA_URL","endsWith","slice","resolveMediaBaseUrl","id","attrs","attributes","title","titel","description","price","rawUrl","img","formats","medium","url","small","imageUrl","startsWith","_jsxs","className","children","_jsx","src","alt","loading","ProductsApi","productList","setProductList","useState","setLoading","error","setError","useEffect","_res$data","res","ProductApis","e","getLatestProducts_","map","item"],"sourceRoot":""}