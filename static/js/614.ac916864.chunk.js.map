{"version":3,"file":"static/js/614.ac916864.chunk.js","mappings":"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","sources":["components/AddProducts.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport '../styles/AddProducts.css'\n\nexport default function AddProducts({ darkMode = false }) {\n  const navigate = useNavigate()\n  const [user, setUser] = useState(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [message, setMessage] = useState('')\n  const [showForm, setShowForm] = useState(false)\n  const [showStats, setShowStats] = useState(false)\n  const [showCategoriesSection, setShowCategoriesSection] = useState(false)\n  const [showCategoryForm, setShowCategoryForm] = useState(false)\n  const [showCategoryDropdown, setShowCategoryDropdown] = useState(false)\n  const [products, setProducts] = useState([])\n  const [categories, setCategories] = useState(['electronics', 'clothing', 'books', 'home', 'sports', 'other'])\n  const [newCategory, setNewCategory] = useState('')\n  const [newProduct, setNewProduct] = useState({\n    title: '',\n    price: '',\n    quantity: 1,\n    image: '',\n    description: '',\n    category: 'electronics'\n  })\n  const [editingProduct, setEditingProduct] = useState(null)\n\n  // Protected admin emails\n  const protectedAdmins = [\n    'yahiapro400@gmail.com',\n    'yahiacool2009@gmail.com'\n  ]\n\n  const isProtectedAdmin = () => {\n    const currentUserEmail = localStorage.getItem('currentUserEmail') || \n                            localStorage.getItem('loggedInUser') || \n                            localStorage.getItem('userEmail')\n    return currentUserEmail && protectedAdmins.includes(currentUserEmail)\n  }\n\n  const canModifyProtectedAdmin = () => {\n    const currentUserEmail = localStorage.getItem('currentUserEmail') || \n                            localStorage.getItem('loggedInUser') || \n                            localStorage.getItem('userEmail')\n    return currentUserEmail && protectedAdmins.includes(currentUserEmail)\n  }\n\n  useEffect(() => {\n    // Preload images for faster loading\n    const preloadImages = () => {\n      products.forEach(product => {\n        if (product.image) {\n          const img = new Image();\n          img.src = product.image;\n        }\n      });\n    };\n\n    // Check if user is logged in - try multiple possible keys\n    const currentUserEmail = localStorage.getItem('currentUserEmail') || \n                            localStorage.getItem('loggedInUser') || \n                            localStorage.getItem('userEmail')\n    \n    // If no user email found, check if there are any users in localStorage\n    if (!currentUserEmail) {\n      const users = JSON.parse(localStorage.getItem('users') || '[]')\n      if (users.length === 0) {\n        // If no users exist, allow access (first time setup)\n        setUser({ email: 'admin@gmail.com' })\n        loadProducts()\n        loadCategories()\n        setIsLoading(false)\n        return\n      }\n      // If users exist but no current user, redirect to login\n      navigate('/login')\n      return\n    }\n\n    // Get user data\n    const users = JSON.parse(localStorage.getItem('users') || '[]')\n    const currentUser = users.find(u => u.email === currentUserEmail)\n    \n    if (!currentUser) {\n      // If user not found in users array, check if it's an admin email\n      const adminEmails = ['yahiapro400@gmail.com', 'yahiacool2009@gmail.com', 'admin-test@gmail.com', 'admin@gmail.com']\n      if (adminEmails.includes(currentUserEmail)) {\n        setUser({ email: currentUserEmail })\n        loadProducts()\n        loadCategories()\n        setIsLoading(false)\n        return\n      }\n      navigate('/login')\n      return\n    }\n\n    // Check if user is admin\n    const adminEmails = ['yahiapro400@gmail.com', 'yahiacool2009@gmail.com', 'admin-test@gmail.com', 'admin@gmail.com']\n    if (!adminEmails.includes(currentUser.email)) {\n      navigate('/')\n      return\n    }\n\n    setUser(currentUser)\n\n    loadProducts()\n    loadCategories()\n    \n    // Preload images after products are loaded\n    setTimeout(() => {\n      preloadImages();\n    }, 100);\n    \n    // Auto-cleanup on page load to prevent memory issues\n    try {\n      const products = JSON.parse(localStorage.getItem('ecommerce_products') || '[]')\n      if (products.length > 50) {\n        const limitedProducts = products.slice(-50)\n        localStorage.setItem('ecommerce_products', JSON.stringify(limitedProducts))\n        console.log('🧹 Auto-cleanup: Reduced products from', products.length, 'to', limitedProducts.length)\n      }\n    } catch (error) {\n      console.error('Error during auto-cleanup:', error)\n    }\n\n    // تنظيف التخزين لمنع مشاكل الذاكرة\n    cleanupStorage()\n    \n    setIsLoading(false)\n\n    // Event listener for storage changes\n    const handleStorageChange = (e) => {\n      if (e.key === 'ecommerce_products') {\n        // Debounce the update to prevent excessive re-renders\n        clearTimeout(window.storageTimeout)\n        window.storageTimeout = setTimeout(() => {\n          loadProducts()\n        }, 500)\n      }\n    }\n\n    window.addEventListener('storage', handleStorageChange)\n\n    // Click outside listener for category dropdown\n    const handleClickOutside = (event) => {\n      if (!event.target.closest('.category-selector')) {\n        setShowCategoryDropdown(false)\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n\n    return () => {\n      window.removeEventListener('storage', handleStorageChange)\n      document.removeEventListener('mousedown', handleClickOutside)\n      clearTimeout(window.storageTimeout)\n    }\n  }, [navigate])\n\n  const loadProducts = () => {\n    try {\n      const storedProducts = localStorage.getItem('ecommerce_products')\n      if (storedProducts) {\n        const parsedProducts = JSON.parse(storedProducts)\n        setProducts(parsedProducts)\n      }\n    } catch (error) {\n      console.error('Error loading products:', error)\n      setProducts([])\n    }\n  }\n\n  const loadCategories = () => {\n    try {\n      const storedCategories = localStorage.getItem('ecommerce_categories')\n      if (storedCategories) {\n        const parsedCategories = JSON.parse(storedCategories)\n        setCategories(parsedCategories)\n      }\n    } catch (error) {\n      console.error('Error loading categories:', error)\n    }\n  }\n\n  // دالة لتنظيف التخزين\n  const cleanupStorage = () => {\n    try {\n      // تنظيف البيانات القديمة\n      const keysToClean = [\n        'ecommerce_products_old',\n        'ecommerce_categories_old',\n        'cartItems_old',\n        'users_old'\n      ]\n      \n      keysToClean.forEach(key => {\n        try {\n          localStorage.removeItem(key)\n        } catch (e) {\n          console.warn(`Failed to remove ${key}:`, e)\n        }\n      })\n      \n      // تنظيف sessionStorage\n      try {\n        sessionStorage.clear()\n      } catch (e) {\n        console.warn('Failed to clear sessionStorage:', e)\n      }\n      \n      console.log('✅ Storage cleanup completed')\n    } catch (error) {\n      console.error('Error during storage cleanup:', error)\n    }\n  }\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target\n    setNewProduct(prev => ({\n      ...prev,\n      [name]: value\n    }))\n  }\n\n  const handleEditInputChange = (e) => {\n    const { name, value } = e.target\n    setEditingProduct(prev => ({\n      ...prev,\n      [name]: value\n    }))\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    \n    if (!newProduct.title || !newProduct.price || !newProduct.image || !newProduct.quantity) {\n      setMessage('Please fill in all required fields')\n      return\n    }\n\n    const product = {\n      id: Date.now(),\n      title: newProduct.title,\n      price: parseFloat(newProduct.price),\n      quantity: parseInt(newProduct.quantity),\n      image: newProduct.image,\n      description: newProduct.description,\n      category: newProduct.category,\n      createdAt: new Date().toISOString(),\n      createdBy: `${localStorage.getItem('currentUserEmail') || localStorage.getItem('loggedInUser') || localStorage.getItem('userEmail') || 'Admin'} (Admin)`,\n      isProtected: isProtectedAdmin()\n    }\n\n    // إضافة المنتج الجديد إلى المنتجات الموجودة\n    const updatedProducts = [...products, product]\n    setProducts(updatedProducts)\n    \n    // تحسين التخزين مع ضغط البيانات\n    try {\n      // تحسين البيانات قبل التخزين\n      const optimizedProducts = updatedProducts.map(product => ({\n        id: product.id,\n        title: product.title,\n        price: product.price,\n        quantity: product.quantity,\n        image: product.image,\n        description: product.description,\n        category: product.category,\n        createdAt: product.createdAt\n      }))\n      \n      // Limit products before saving to prevent memory issues\n      const limitedProducts = optimizedProducts.slice(-50) // Keep only last 50 products\n      const compressedData = JSON.stringify(limitedProducts)\n      \n      // محاولة التخزين مع معالجة الأخطاء\n      try {\n        localStorage.setItem('ecommerce_products', compressedData)\n      } catch (storageError) {\n        console.warn('Storage error, trying to clear old data:', storageError)\n        \n        // محاولة تنظيف التخزين وإعادة المحاولة\n        try {\n          localStorage.removeItem('ecommerce_products')\n          localStorage.setItem('ecommerce_products', compressedData)\n        } catch (retryError) {\n          console.error('Failed to store even after cleanup:', retryError)\n          throw new Error('Storage is full or not available')\n        }\n      }\n      \n      // التحقق من نجاح التخزين\n      const storedData = localStorage.getItem('ecommerce_products')\n      if (!storedData) {\n        throw new Error('Failed to store products')\n      }\n      \n      console.log(`✅ Successfully stored ${limitedProducts.length} products in localStorage`)\n      \n      // إضافة تأكيد إضافي للتخزين\n      const verificationData = JSON.parse(storedData)\n      if (verificationData.length !== limitedProducts.length) {\n        console.warn('Storage verification failed, data may be corrupted')\n      }\n      \n    } catch (error) {\n      console.error('Error storing products:', error)\n      \n      // محاولة حفظ في sessionStorage كبديل\n      try {\n        const fallbackData = JSON.stringify(updatedProducts.slice(-20))\n        sessionStorage.setItem('ecommerce_products_fallback', fallbackData)\n        console.log('✅ Saved to sessionStorage as fallback')\n        setMessage('⚠️ Warning: Product added to temporary storage. Data may be lost on page refresh.')\n      } catch (fallbackError) {\n        console.error('Fallback storage also failed:', fallbackError)\n        setMessage('❌ Error: Unable to save product. Please try again or clear browser data.')\n      }\n      \n      setTimeout(() => setMessage(''), 8000)\n    }\n    \n    // إرسال حدث مخصص لتحديث المنتجات في الصفحة الرئيسية\n    window.dispatchEvent(new Event('productsUpdated'))\n    \n    setMessage(`✅ Product \"${product.title}\" with ${product.quantity} pieces added successfully!`)\n    \n    // Clear form and redirect to products page\n    clearForm()\n    setTimeout(() => {\n      setMessage('')\n      // Redirect to products page\n      window.location.href = '/'\n    }, 2000)\n  }\n\n  const handleEditSubmit = (e) => {\n    e.preventDefault()\n    \n    if (!editingProduct.title || !editingProduct.price || !editingProduct.image || !editingProduct.quantity) {\n      setMessage('Please fill in all required fields')\n      return\n    }\n\n    // Check if trying to edit a protected product\n    if (editingProduct.isProtected && !canModifyProtectedAdmin()) {\n      alert('❌ Cannot edit protected products!\\n\\nOnly yahiapro400@gmail.com and yahiacool2009@gmail.com can edit protected products.')\n      return\n    }\n\n    const updatedProduct = {\n      ...editingProduct,\n      price: parseFloat(editingProduct.price),\n      quantity: parseInt(editingProduct.quantity),\n      updatedAt: new Date().toISOString(),\n      updatedBy: `${localStorage.getItem('currentUserEmail') || localStorage.getItem('loggedInUser') || localStorage.getItem('userEmail') || 'Admin'} (Admin)`\n    }\n\n    const updatedProducts = products.map(product => \n      product.id === editingProduct.id ? updatedProduct : product\n    )\n    \n    setProducts(updatedProducts)\n    \n    // تحسين التخزين مع ضغط البيانات\n    try {\n      // Limit products before saving to prevent memory issues\n      const limitedProducts = updatedProducts.slice(-50) // Keep only last 50 products\n      const compressedData = JSON.stringify(limitedProducts)\n      \n      // محاولة التخزين مع معالجة الأخطاء\n      try {\n        localStorage.setItem('ecommerce_products', compressedData)\n      } catch (storageError) {\n        console.warn('Storage error during edit, trying to clear old data:', storageError)\n        \n        // محاولة تنظيف التخزين وإعادة المحاولة\n        try {\n          localStorage.removeItem('ecommerce_products')\n          localStorage.setItem('ecommerce_products', compressedData)\n        } catch (retryError) {\n          console.error('Failed to store even after cleanup:', retryError)\n          throw new Error('Storage is full or not available')\n        }\n      }\n      \n      // التحقق من نجاح التخزين\n      const storedData = localStorage.getItem('ecommerce_products')\n      if (!storedData) {\n        throw new Error('Failed to store products')\n      }\n      \n      console.log(`✅ Successfully updated product. ${limitedProducts.length} products in localStorage`)\n      \n      // إضافة تأكيد إضافي للتخزين\n      const verificationData = JSON.parse(storedData)\n      if (verificationData.length !== limitedProducts.length) {\n        console.warn('Storage verification failed during edit, data may be corrupted')\n      }\n      \n    } catch (error) {\n      console.error('Error updating product:', error)\n      \n      // محاولة حفظ في sessionStorage كبديل\n      try {\n        const fallbackData = JSON.stringify(updatedProducts.slice(-20))\n        sessionStorage.setItem('ecommerce_products_fallback', fallbackData)\n        console.log('✅ Saved to sessionStorage as fallback during edit')\n        setMessage('⚠️ Warning: Product updated in temporary storage. Data may be lost on page refresh.')\n      } catch (fallbackError) {\n        console.error('Fallback storage also failed during edit:', fallbackError)\n        setMessage('❌ Error: Unable to update product. Please try again or clear browser data.')\n      }\n      \n      setTimeout(() => setMessage(''), 8000)\n    }\n    \n    // إرسال حدث مخصص لتحديث المنتجات في الصفحة الرئيسية\n    window.dispatchEvent(new Event('productsUpdated'))\n    \n    setMessage(`✅ Product \"${updatedProduct.title}\" updated successfully!`)\n    setEditingProduct(null)\n    setShowForm(false)\n    \n    setTimeout(() => setMessage(''), 3000)\n  }\n\n  // Function to clear form manually\n  const clearForm = () => {\n    setNewProduct({\n      title: '',\n      price: '',\n      quantity: 1,\n      image: '',\n      description: '',\n      category: 'electronics'\n    })\n    setMessage('Form cleared successfully!')\n    setTimeout(() => setMessage(''), 3000)\n  }\n\n  // Function to add new category\n  // دالة لحذف كاتجري\n  const handleDeleteCategory = (categoryToDelete) => {\n    if (window.confirm(`Are you sure you want to delete the category \"${categoryToDelete}\"? This will also remove it from all products.`)) {\n      try {\n        // حذف الكاتجري من قائمة الكاتجري\n        const updatedCategories = categories.filter(cat => cat !== categoryToDelete)\n        setCategories(updatedCategories)\n        localStorage.setItem('ecommerce_categories', JSON.stringify(updatedCategories))\n        \n        // تحديث المنتجات التي تستخدم هذه الكاتجري\n        const updatedProducts = products.map(product => {\n          if (product.category === categoryToDelete) {\n            return {\n              ...product,\n              category: 'Other' // تعيين كاتجري افتراضية\n            }\n          }\n          return product\n        })\n        \n        setProducts(updatedProducts)\n        localStorage.setItem('ecommerce_products', JSON.stringify(updatedProducts))\n        \n        // إرسال حدث مخصص لتحديث المنتجات في الصفحة الرئيسية\n        window.dispatchEvent(new Event('productsUpdated'))\n        \n        setMessage(`✅ Category \"${categoryToDelete}\" deleted successfully! Products moved to \"Other\" category.`)\n        setTimeout(() => setMessage(''), 4000)\n        \n        console.log(`✅ Category \"${categoryToDelete}\" deleted and products updated`)\n      } catch (error) {\n        console.error('Error deleting category:', error)\n        setMessage('⚠️ Error deleting category')\n        setTimeout(() => setMessage(''), 3000)\n      }\n    }\n  }\n\n  const handleAddCategory = (e) => {\n    e.preventDefault()\n    \n    if (!newCategory.trim()) {\n      setMessage('Please enter a category name')\n      return\n    }\n\n    const categoryName = newCategory.trim().toLowerCase()\n    \n    if (categories.includes(categoryName)) {\n      setMessage('This category already exists')\n      return\n    }\n\n    const updatedCategories = [...categories, categoryName]\n    setCategories(updatedCategories)\n    localStorage.setItem('ecommerce_categories', JSON.stringify(updatedCategories))\n    \n    setNewCategory('')\n    setShowCategoryForm(false)\n    setMessage(`Category \"${categoryName}\" added successfully!`)\n    \n    setTimeout(() => setMessage(''), 3000)\n  }\n\n  if (isLoading) {\n    return (\n      <div style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        background: '#f5f7fa'\n      }}>\n        <div style={{\n          textAlign: 'center',\n          color: '#666'\n        }}>\n          <div style={{\n            width: '40px',\n            height: '40px',\n            border: '4px solid #f3f3f3',\n            borderTop: '4px solid #667eea',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            margin: '0 auto 20px'\n          }}></div>\n          <p>Loading...</p>\n        </div>\n      </div>\n    )\n  }\n\n  // Allow access if no users exist (first time setup) or if user is logged in\n  const currentUserEmail = localStorage.getItem('currentUserEmail') || \n                          localStorage.getItem('loggedInUser') || \n                          localStorage.getItem('userEmail')\n  const users = JSON.parse(localStorage.getItem('users') || '[]')\n  \n  if (!currentUserEmail && users.length > 0) {\n    return (\n      <div className=\"access-denied\">\n        <h1>Access Denied</h1>\n        <p>You don't have permission to access this page.</p>\n        <button onClick={() => navigate('/')}>Go Home</button>\n      </div>\n    )\n  }\n\n  return (\n    <div className={`add-products-container ${darkMode ? 'dark-mode' : ''}`}>\n      <div className=\"add-products-header\">\n        <h1>Product Management</h1>\n        <p>Add, edit, and manage your products</p>\n      </div>\n\n      {message && (\n        <div className={`message ${message.includes('successfully') ? 'success' : 'error'}`}>\n          {message}\n        </div>\n      )}\n\n      <div className=\"admin-actions\">\n        {!showCategoriesSection && (\n          <>\n        <button \n              className=\"add-product-btn\"\n              onClick={() => {\n                setShowForm(!showForm)\n                setEditingProduct(null)\n              }}\n            >\n              {showForm ? 'Cancel' : 'Add New Product'}\n            </button>\n\n          </>\n        )}\n        <button // Categories Management button\n          className=\"categories-management-btn\"\n          onClick={() => {\n            setShowCategoriesSection(!showCategoriesSection)\n            if (!showCategoriesSection) {\n              // Scroll to categories section when showing\n              setTimeout(() => {\n                const categoriesSection = document.querySelector('.categories-section')\n                if (categoriesSection) {\n                  categoriesSection.scrollIntoView({ behavior: 'smooth' })\n                }\n              }, 100)\n            }\n          }}\n          title=\"Manage product categories\"\n        >\n          {showCategoriesSection ? '⬆️ Back to Top' : '📂 Categories'}\n        </button>\n      </div>\n\n      {/* Product Form */}\n      {showForm && !showCategoriesSection && (\n        <div className=\"product-form-container\">\n          <h2>{editingProduct ? 'Edit Product' : 'Add New Product'}</h2>\n          \n          <form onSubmit={editingProduct ? handleEditSubmit : handleSubmit} className=\"product-form\">\n          <div className=\"form-group\">\n              <label htmlFor=\"title\">Product Title *</label>\n            <input\n              type=\"text\"\n                id=\"title\"\n                name=\"title\"\n                value={editingProduct ? editingProduct.title : newProduct.title}\n                onChange={editingProduct ? handleEditInputChange : handleInputChange}\n                placeholder=\"Enter product title\"\n              required\n            />\n          </div>\n\n            <div className=\"form-row\">\n          <div className=\"form-group\">\n                <label htmlFor=\"price\">Price *</label>\n            <input\n              type=\"number\"\n              id=\"price\"\n              name=\"price\"\n                  value={editingProduct ? editingProduct.price : newProduct.price}\n                  onChange={editingProduct ? handleEditInputChange : handleInputChange}\n                  placeholder=\"0.00\"\n              step=\"0.01\"\n                  min=\"0\"\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n                <label htmlFor=\"quantity\">Quantity *</label>\n                <input\n                  type=\"number\"\n                  id=\"quantity\"\n                  name=\"quantity\"\n                  value={editingProduct ? editingProduct.quantity : newProduct.quantity}\n                  onChange={editingProduct ? handleEditInputChange : handleInputChange}\n                  placeholder=\"1\"\n                  min=\"1\"\n              required\n            />\n              </div>\n          </div>\n\n          <div className=\"form-group\">\n              <label htmlFor=\"category\">Category *</label>\n              <div className=\"category-selector\">\n                <button\n                  type=\"button\"\n                  className=\"category-dropdown-btn\"\n                  onClick={() => setShowCategoryDropdown(!showCategoryDropdown)}\n                >\n                  {editingProduct ? editingProduct.category : newProduct.category}\n                  <span className=\"dropdown-arrow\">▼</span>\n                </button>\n                {showCategoryDropdown && (\n                  <div className=\"category-dropdown\">\n                    {categories.map(category => (\n                      <div\n                        key={category}\n                        className=\"category-option\"\n                        onClick={() => {\n                          if (editingProduct) {\n                            setEditingProduct(prev => ({ ...prev, category }))\n                          } else {\n                            setNewProduct(prev => ({ ...prev, category }))\n                          }\n                          setShowCategoryDropdown(false)\n                        }}\n                      >\n                        {category.charAt(0).toUpperCase() + category.slice(1)}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n          </div>\n\n          <div className=\"form-group\">\n              <label htmlFor=\"image\">Product Image *</label>\n              <div className=\"image-upload-container\">\n            <input\n                  type=\"text\"\n              id=\"image\"\n              name=\"image\"\n                  value={editingProduct ? editingProduct.image : newProduct.image}\n                  onChange={editingProduct ? handleEditInputChange : handleInputChange}\n                  placeholder=\"Enter image URL (supports: jpg, png, webp, gif)\"\n              required\n            />\n                <input\n                  type=\"file\"\n                  id=\"imageFile\"\n                  accept=\"image/*\"\n                  onChange={(e) => {\n                    const file = e.target.files[0]\n                    if (file) {\n                      const reader = new FileReader()\n                      reader.onload = (e) => {\n                        if (editingProduct) {\n                          setEditingProduct(prev => ({\n                            ...prev,\n                            image: e.target.result\n                          }))\n                        } else {\n                          setNewProduct(prev => ({\n                            ...prev,\n                            image: e.target.result\n                          }))\n                        }\n                      }\n                      reader.readAsDataURL(file)\n                    }\n                  }}\n                  className=\"file-input\"\n                />\n                <label htmlFor=\"imageFile\" className=\"file-label\">\n                  <svg className=\"upload-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                    <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"></path>\n                    <polyline points=\"7,10 12,15 17,10\"></polyline>\n                    <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"></line>\n                  </svg>\n                  Choose Image\n                </label>\n                {(editingProduct ? editingProduct.image : newProduct.image) && (\n                  <div className=\"image-preview\">\n                    <img \n                      src={editingProduct ? editingProduct.image : newProduct.image} \n                      alt=\"Preview\" \n                      loading=\"eager\"\n                      decoding=\"async\"\n                      onLoad={(e) => {\n                        e.target.style.opacity = '1';\n                      }}\n                      style={{\n                        opacity: 0,\n                        transition: 'opacity 0.3s ease'\n                      }}\n                    />\n                    <button \n                      type=\"button\" \n                      className=\"remove-image\"\n                      onClick={() => {\n                        if (editingProduct) {\n                          setEditingProduct(prev => ({ ...prev, image: '' }))\n                        } else {\n                          setNewProduct(prev => ({ ...prev, image: '' }))\n                        }\n                      }}\n                    >\n                      ×\n                    </button>\n                  </div>\n                )}\n              </div>\n          </div>\n\n          <div className=\"form-group\">\n              <label htmlFor=\"description\">Description</label>\n              <textarea\n                id=\"description\"\n                name=\"description\"\n                value={editingProduct ? editingProduct.description : newProduct.description}\n                onChange={editingProduct ? handleEditInputChange : handleInputChange}\n                rows=\"4\"\n                placeholder=\"Enter product description\"\n            />\n          </div>\n\n            <div className=\"form-actions\">\n              <button type=\"submit\" className=\"submit-btn\">\n                {editingProduct ? 'Update Product' : 'Add Product'}\n              </button>\n\n              <button \n                type=\"button\" \n                className=\"cancel-btn\"\n                onClick={() => {\n                  setShowForm(false)\n                  setEditingProduct(null)\n                }}\n              >\n                Cancel\n          </button>\n            </div>\n        </form>\n        </div>\n      )}\n\n      {/* Products Display Section */}\n      {!showCategoriesSection && (\n        <div className=\"products-section\">\n          <div className=\"products-header\">\n            <h2>Products Management ({products.length})</h2>\n      </div>\n\n        {products.length === 0 ? (\n            <div className=\"no-products\">\n              <p>No products added yet.</p>\n            </div>\n        ) : (\n          <div className=\"products-grid\">\n            {products.map(product => (\n              <div key={product.id} className=\"product-card\">\n                <div className=\"product-image\">\n                    <img \n                      src={product.image} \n                      alt={product.title} \n                      loading=\"eager\"\n                      decoding=\"async\"\n                      fetchPriority=\"high\"\n                      onLoad={(e) => {\n                        e.target.style.opacity = '1';\n                        e.target.style.transform = 'scale(1)';\n                      }}\n                      onError={(e) => {\n                        e.target.style.display = 'none';\n                        e.target.nextSibling.style.display = 'block';\n                      }}\n                      style={{\n                        opacity: 0,\n                        transform: 'scale(0.95)',\n                        transition: 'all 0.3s ease'\n                      }}\n                    />\n                    <div className=\"image-placeholder\" style={{ display: 'none' }}>\n                      <span>📷</span>\n                      <p>No Image</p>\n                    </div>\n                    \n                    {/* Stock Status Overlay */}\n                    <div className=\"stock-status-overlay\">\n                      {product.quantity === 0 ? (\n                        <span className=\"out-of-stock-overlay\">\n                          <span className=\"stock-icon\">❌</span>\n                          <span className=\"stock-text\">Out of Stock</span>\n                        </span>\n                      ) : product.quantity <= 5 ? (\n                        <span className=\"low-stock-overlay\">\n                          <span className=\"stock-icon\">⚠️</span>\n                          <span className=\"stock-text\">Low Stock</span>\n                        </span>\n                      ) : (\n                        <span className=\"in-stock-overlay\">\n                          <span className=\"stock-icon\">✅</span>\n                          <span className=\"stock-text\">In Stock</span>\n                        </span>\n                      )}\n                    </div>\n                    \n                    {product.updatedAt && (\n                      <div className=\"updated-badge\">Updated</div>\n                    )}\n                    {product.isProtected && (\n                      <div className=\"protected-badge\">🔒 Protected</div>\n                    )}\n                  </div>\n                  <div className=\"product-info\">\n                    <h3>{product.title}</h3>\n                    <p className=\"price\">${product.price}</p>\n                    <p className=\"quantity\">Quantity: {product.quantity || 1}</p>\n\n                    <p className=\"category\">{product.category}</p>\n                    {product.description && (\n                      <p className=\"description\">{product.description}</p>\n                    )}\n                    <p className=\"product-id\">ID: {product.id}</p>\n                    <p className=\"created-date\">\n                      Created: {new Date(product.createdAt).toLocaleDateString()}\n                      {product.createdBy && ` by ${product.createdBy}`}\n                    </p>\n                    {product.updatedAt && (\n                      <p className=\"updated-date\">\n                        Updated: {new Date(product.updatedAt).toLocaleDateString()}\n                        {product.updatedBy && ` by ${product.updatedBy}`}\n                      </p>\n                    )}\n                    {product.isProtected && (\n                      <p className=\"protected-info\">\n                        🔒 Protected Product - Only yahiapro400@gmail.com and yahiacool2009@gmail.com can modify\n                      </p>\n                    )}\n                </div>\n                <div className=\"product-actions\">\n                    <button \n                      className=\"edit-btn\"\n                      onClick={() => {\n                        setEditingProduct({\n                          ...product,\n                          price: product.price.toString(),\n                          quantity: product.quantity.toString()\n                        })\n                        setShowForm(true)\n                      }}\n                      title=\"Edit Product\"\n                    >\n                      ✏️ Edit\n                    </button>\n                  <button \n                    className=\"delete-btn\"\n                      onClick={() => {\n                        const productToDelete = products.find(p => p.id === product.id)\n                        \n                        // Check if trying to delete a protected product\n                        if (productToDelete && productToDelete.isProtected && !canModifyProtectedAdmin()) {\n                          alert('❌ Cannot delete protected products!\\n\\nOnly yahiapro400@gmail.com and yahiacool2009@gmail.com can delete protected products.')\n                          return\n                        }\n                        \n                        if (window.confirm('Are you sure you want to delete this product?')) {\n                          const updatedProducts = products.filter(p => p.id !== product.id)\n                          setProducts(updatedProducts)\n                          \n                          try {\n                            const limitedProducts = updatedProducts.slice(-50)\n                            const compressedData = JSON.stringify(limitedProducts)\n                            localStorage.setItem('ecommerce_products', compressedData)\n                            \n                            const storedData = localStorage.getItem('ecommerce_products')\n                            if (!storedData) {\n                              throw new Error('Failed to store products')\n                            }\n                            \n                            console.log(`✅ Successfully deleted product. ${limitedProducts.length} products remaining in localStorage`)\n                          } catch (error) {\n                            console.error('Error deleting product:', error)\n                            setMessage('⚠️ Warning: Product deleted but storage may be limited.')\n                            setTimeout(() => setMessage(''), 5000)\n                          }\n                          \n                          window.dispatchEvent(new Event('productsUpdated'))\n                          \n                          setMessage(`Product \"${productToDelete.title}\" deleted successfully! Remaining products: ${updatedProducts.length}`)\n                          setTimeout(() => setMessage(''), 3000)\n                        }\n                      }}\n                      title=\"Delete Product\"\n                    >\n                      🗑️ Delete\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n      )}\n\n      {/* Categories Management Section */}\n      {showCategoriesSection && (\n        <div className=\"categories-section\">\n        <div className=\"categories-header\">\n          <h2>Categories Management ({categories.length})</h2>\n          <div className=\"categories-actions\">\n            <button \n              className=\"add-category-btn\"\n              onClick={() => setShowCategoryForm(!showCategoryForm)}\n            >\n              {showCategoryForm ? 'Cancel' : '➕ Add New Category'}\n            </button>\n            <button \n              className=\"back-to-top-btn\"\n              onClick={() => {\n                window.scrollTo({ top: 0, behavior: 'smooth' })\n              }}\n            >\n              ⬆️ Back to Top\n            </button>\n          </div>\n        </div>\n\n        {showCategoryForm && (\n          <div className=\"category-form\">\n            <form onSubmit={handleAddCategory}>\n              <div className=\"form-group\">\n                <label htmlFor=\"newCategory\">Category Name</label>\n                <input\n                  type=\"text\"\n                  id=\"newCategory\"\n                  value={newCategory}\n                  onChange={(e) => setNewCategory(e.target.value)}\n                  placeholder=\"Enter category name\"\n                  required\n                />\n              </div>\n              <button type=\"submit\" className=\"submit-btn\">Add Category</button>\n            </form>\n          </div>\n        )}\n\n        <div className=\"categories-grid\">\n          {categories.map(category => (\n            <div key={category} className=\"category-card\">\n              <div className=\"category-info\">\n                <h3>{category.charAt(0).toUpperCase() + category.slice(1)}</h3>\n                <p>Products in this category: {products.filter(p => p.category === category).length}</p>\n              </div>\n              <div className=\"category-actions\">\n                <button \n                  className=\"delete-category-btn\"\n                  onClick={() => handleDeleteCategory(category)}\n                  disabled={category === 'other'}\n                  title={category === 'other' ? 'Cannot delete default category' : 'Delete category'}\n                >\n                  🗑️ Delete\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n      )}\n    </div>\n  )\n} "],"names":["AddProducts","_ref","darkMode","navigate","useNavigate","user","setUser","useState","isLoading","setIsLoading","message","setMessage","showForm","setShowForm","showStats","setShowStats","showCategoriesSection","setShowCategoriesSection","showCategoryForm","setShowCategoryForm","showCategoryDropdown","setShowCategoryDropdown","products","setProducts","categories","setCategories","newCategory","setNewCategory","newProduct","setNewProduct","title","price","quantity","image","description","category","editingProduct","setEditingProduct","protectedAdmins","isProtectedAdmin","currentUserEmail","localStorage","getItem","includes","canModifyProtectedAdmin","useEffect","JSON","parse","length","email","loadProducts","loadCategories","currentUser","find","u","setTimeout","forEach","product","Image","src","limitedProducts","slice","setItem","stringify","console","log","error","cleanupStorage","handleStorageChange","e","key","clearTimeout","window","storageTimeout","addEventListener","handleClickOutside","event","target","closest","document","removeEventListener","storedProducts","parsedProducts","storedCategories","parsedCategories","removeItem","warn","sessionStorage","clear","handleInputChange","name","value","prev","handleEditInputChange","clearForm","_jsx","style","display","justifyContent","alignItems","height","background","children","_jsxs","textAlign","color","width","border","borderTop","borderRadius","animation","margin","users","className","onClick","_Fragment","categoriesSection","querySelector","scrollIntoView","behavior","onSubmit","preventDefault","isProtected","alert","updatedProduct","parseFloat","parseInt","updatedAt","Date","toISOString","updatedBy","updatedProducts","map","id","compressedData","storageError","retryError","Error","storedData","fallbackData","fallbackError","dispatchEvent","Event","now","createdAt","createdBy","optimizedProducts","location","href","htmlFor","type","onChange","placeholder","required","step","min","charAt","toUpperCase","accept","file","files","reader","FileReader","onload","result","readAsDataURL","xmlns","viewBox","fill","stroke","strokeWidth","d","points","x1","y1","x2","y2","alt","loading","decoding","onLoad","opacity","transition","rows","fetchPriority","transform","onError","nextSibling","toLocaleDateString","toString","productToDelete","p","confirm","filter","scrollTo","top","trim","categoryName","toLowerCase","updatedCategories","categoryToDelete","cat","handleDeleteCategory","disabled"],"sourceRoot":""}