"use strict";(self.webpackChunke_commer_react=self.webpackChunke_commer_react||[]).push([[47],{47:(t,i,a)=>{a.r(i),a.d(i,{default:()=>u});var o=a(483),d=a(686);const e={NODE_ENV:"production",PUBLIC_URL:"/E-Commer-React",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_STRAPI_URL||"http://localhost:1337/api",l={NODE_ENV:"production",PUBLIC_URL:"/E-Commer-React",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_STRAPI_TOKEN,s=d.A.create({baseURL:e,headers:l?{Authorization:"Bearer ".concat(l)}:{}}),c={NODE_ENV:"production",PUBLIC_URL:"/E-Commer-React",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_STRAPI_URL||"http://localhost:1337",r=async()=>(await s.get("".concat(c,"/api/products?populate=*&sort=createdAt:desc"))).data.data;var n=a(723);function _(t){var i,a,o,d,e,l,s,c,r,_,u,v,S,m;let{product:E}=t;const T={NODE_ENV:"production",PUBLIC_URL:"/E-Commer-React",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_STRAPI_MEDIA_URL||function(){const t={NODE_ENV:"production",PUBLIC_URL:"/E-Commer-React",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_STRAPI_URL||"http://localhost:1337/api";return t.endsWith("/api")?t.slice(0,-4):t}(),R=null===E||void 0===E?void 0:E.id,p=(null===E||void 0===E?void 0:E.attributes)||{},h=p.titel||"No title",C=p.description||"",O=null!==(i=p.price)&&void 0!==i?i:"",P=(null===(a=p.img)||void 0===a||null===(o=a.data)||void 0===o||null===(d=o.attributes)||void 0===d||null===(e=d.formats)||void 0===e||null===(l=e.medium)||void 0===l?void 0:l.url)||(null===(s=p.img)||void 0===s||null===(c=s.data)||void 0===c||null===(r=c.attributes)||void 0===r||null===(_=r.formats)||void 0===_||null===(u=_.small)||void 0===u?void 0:u.url)||(null===(v=p.img)||void 0===v||null===(S=v.data)||void 0===S||null===(m=S.attributes)||void 0===m?void 0:m.url),A=P?P.startsWith("http")?P:"".concat(T).concat(P):"https://via.placeholder.com/400x400?text=No+Image";return(0,n.jsxs)("div",{className:"p-3 bg-white rounded-md shadow-sm dark:bg-[#1f2937]",children:[(0,n.jsx)("div",{className:"w-full aspect-square overflow-hidden rounded-md bg-gray-100",children:(0,n.jsx)("img",{src:A,alt:h,className:"w-full h-full object-cover",loading:"lazy"})}),(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold line-clamp-1",children:h}),C&&(0,n.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2 mt-1",children:C}),""!==O&&(0,n.jsxs)("div",{className:"text-sm font-bold mt-2",children:["$",O]}),(0,n.jsxs)("div",{className:"text-[10px] text-gray-400 mt-1",children:["ID: ",R]})]})]})}function u(){const[t,i]=(0,o.useState)([]),[a,d]=(0,o.useState)(!0),[e,l]=(0,o.useState)("");return(0,o.useEffect)(()=>{(async()=>{try{var t;const a=await r();i((null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.data)||[])}catch(a){l("\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0645\u0646 Strapi")}finally{d(!1)}})()},[]),a?(0,n.jsx)("div",{className:"p-4",children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."}):e?(0,n.jsx)("div",{className:"p-4 text-red-600",children:e}):(0,n.jsx)("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4 p-4",children:t.map(t=>(0,n.jsx)(_,{product:t},t.id))})}}}]);
//# sourceMappingURL=47.edb458b0.chunk.js.map